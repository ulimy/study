### [3장] 클래스 설계 : 모든 것과 연결되는 설계 기반

- 클래스는 클래스 그 자체로 잘 동작할 수 있어야 한다.
    - 초기설정을 복잡하게 할 필요가 없어야 한다.
        - ex) 선언 후 다른 메서드를 통해 꼭 초기화를 해야하는 경우
        - 초기화가 꼭 필요하거나, 사전 준비가 필요한 클래스 등은 미성숙한 클래스라고 표현한다.
    - 클래스를 마음대로 조작할 수 없도록 최소한의 메서드만 제공해야한다.


- 생성자를 통해 생성하는 시점에 모든 인스턴스 변수가 정상적인 값을 갖게 만들자.
    - 생성자 내부에 Validation을 정의하자.
        - 잘못된 값이라면 예외를 발생시켜 할당될 수 없도록
        - 이렇게 메서드 앞부분에서 확인하는 코드를 `가드`라고 부른다.
    - 모든 인스턴스 변수가 초기화될 수 있도록 하자.


- 데이터가 존재하는 클래스에 계산로직을 만들자.


- 인스턴스 변수를 불변으로 만들자.
    - 변수의 값이 계속해서 바뀌면
        - 언제, 어디서 바뀌었는지 파악하기 힘들다.
        - side effect가 발생할 수 있다.
    - 생성자를 통해 모두 초기화 되고, 불변으로 관리된다면 good!


- 인스턴스 변수를 변경하고 싶다면 새로운 인스턴스를 만들자.
    - 3000원 Money를 5000원으로 만들고싶다면 새롭게 만들자.


- 메서드 매개변수/지역변수도 불변으로 만들자.


- 의미 있는 자료형만 전달받을 수 있도록 하자.
    - 기본 자료형으로 데이터를 전달받으면, 자료형만 동일하고 의미는 다른 경우에 버그가 생길 수 있다.
    - 의미있는 자료형으로 전달 받는다면, 이 외의 자료형은 전달받을 수 없으므로 조금 더 안전해진다.


- 불필요한 메서드를 만들지 말자.
    - 언젠가 필요하겠지라는 생각으로 만들어놓은 메서드를 누군가 무심코 사용하면 버그로 이어질 수 있다.


- 완전 생성자 패턴
    - 생성자에서 다음과 같은 조건을 만족함으로써 완전한 객체를 만드는 디자인 패턴
        - 모든 인스턴스 변수 초기화
        - Validation 선언
        - 모든 인스턴스 변수 불변


- 값객체
    - 특정 변수의 값을 클래스로 나타내는 디자인 패턴
    - ex) ‘돈’ 이라는 변수를 BigDecimal이 아니라 Money 라는 객체로 만든다.
